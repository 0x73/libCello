CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

set(CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake/)

PROJECT(Cello C)

SET(Cello_VERSION_MAJOR 0)
SET(Cello_VERSION_MINOR 9)
SET(Cello_VERSION_PATCH 3)
SET(Cello_VERSION_STRING
    ${Cello_VERSION_MAJOR}.${Cello_VERSION_MINOR}.${Cello_VERSION_PATCH})

INCLUDE(configure)
CONFIGURE_FILE(${PROJECT_SOURCE_DIR}/config.h.cmake ${PROJECT_SOURCE_DIR}/config.h)

SET(CMAKE_BUILD_TYPE Debug)

INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/include)

IF ("${CMAKE_C_COMPILER_ID}" STREQUAL "Clang")
    ADD_DEFINITIONS(-std=gnu99)
ELSE()
    ADD_DEFINITIONS(-std=gnu99 -Wall -Wextra -Wno-unused)
ENDIF()

ADD_SUBDIRECTORY(src)

ADD_SUBDIRECTORY(tests)

ADD_SUBDIRECTORY(demos)

INCLUDE(VimClangComplete)

